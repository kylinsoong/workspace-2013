<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich" template="layout/template.xhtml"
	xmlns:a="http://richfaces.org/a4j">

<ui:define name="body">
    <h:form id="register">
        <rich:panel>
            <f:facet name="header">Register</f:facet>
            <p>Please register here</p>
            <div class="dialog">
                <s:decorate id="userIdField" template="layout/edit.xhtml">
					<ui:define name="label">User ID</ui:define>
					<h:inputText id="userId" required="true" disabled="false" size="45"
						maxlength="45" value="#{credentials.username}">
						<a:support event="onblur" reRender="userIdField"
							bypassUpdates="true" ajaxSingle="true" />
					</h:inputText>
				</s:decorate>
                   <s:decorate id="passwordField" template="layout/edit.xhtml">
					<ui:define name="label">Password</ui:define>
					<h:inputSecret id="password" required="true" value="#{credentials.password}"/>
				</s:decorate>
                   <s:decorate id="firstNameField" template="layout/edit.xhtml">
					<ui:define name="label">First Name</ui:define>
					<h:inputText id="firstName" required="true" disabled="false" size="45"
						maxlength="45" value="#{registrationCustomer.firstName}">
						<a:support event="onblur" reRender="firstNameField"
							bypassUpdates="true" ajaxSingle="true" />
					</h:inputText>
				</s:decorate>
                   <s:decorate id="lastNameField" template="layout/edit.xhtml">
					<ui:define name="label">Last Name</ui:define>
					<h:inputText id="lastName" required="true" disabled="false" size="45"
						maxlength="45" value="#{registrationCustomer.lastName}">
						<a:support event="onblur" reRender="lastNameField"
							bypassUpdates="true" ajaxSingle="true" />
					</h:inputText>
				</s:decorate>
				<s:decorate id="street1Field" template="layout/edit.xhtml">
					<ui:define name="label">Street1</ui:define>
					<h:inputText id="street1" required="true" disabled="false" size="45"
						maxlength="45" value="#{registrationCustomer.address.street1}">
						<a:support event="onblur" reRender="street1Field"
							bypassUpdates="true" ajaxSingle="true" />
					</h:inputText>
				</s:decorate>
				<s:decorate id="street2Field" template="layout/edit.xhtml">
					<ui:define name="label">Street2</ui:define>
					<h:inputText id="street2" size="45" disabled="false" maxlength="45"
						value="#{registrationCustomer.address.street2}">
						<a:support event="onblur" reRender="street2Field"
							bypassUpdates="true" ajaxSingle="true" />
					</h:inputText>
				</s:decorate>
				<s:decorate id="cityField" template="layout/edit.xhtml">
					<ui:define name="label">City</ui:define>
					<h:inputText id="city" required="true" disabled="false" size="45" maxlength="45"
						value="#{registrationCustomer.address.city}">
						<a:support event="onblur" reRender="cityField"
							bypassUpdates="true" ajaxSingle="true" />
					</h:inputText>
				</s:decorate>
				<s:decorate id="stateField" template="layout/edit.xhtml">
					<ui:define name="label">State</ui:define>
					<h:inputText id="state" required="true" disabled="false" size="45" maxlength="45"
						value="#{registrationCustomer.address.state}">
						<a:support event="onblur" reRender="stateField"
							bypassUpdates="true" ajaxSingle="true" />
					</h:inputText>
				</s:decorate>
				<s:decorate id="zipField" template="layout/edit.xhtml">
					<ui:define name="label">Zip</ui:define>
					<h:inputText id="zip" required="true" disabled="false" size="45" maxlength="45"
						value="#{registrationCustomer.address.zip}">
						<a:support event="onblur" reRender="zipField"
							bypassUpdates="true" ajaxSingle="true" />
					</h:inputText>
				</s:decorate>
				<div style="clear: both"><span class="required">*</span> required fields</div>
            </div>
        </rich:panel>
        <div class="actionButtons">
            <h:commandButton value="Register" actionListener="#{registerBean.registerCustomer}"  action="#{identity.login}"/>
        </div>
    </h:form>
 </ui:define>
</ui:composition>
